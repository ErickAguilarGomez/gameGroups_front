import{l as Qe,ad as ft,aE as vt,Y as Se,U as Pe,r as et,m as Le,A as K,aF as bt,z as F,Z as X,ax as pt,N as yt,ay as _e,aG as ht,aH as mt,aI as Me,$ as Ke,a0 as gt,a2 as kt,a1 as ue,f as W,w as Z,g as V,D as $,h as u,a7 as ze,E as j,B as He,a6 as qe,a as he,c as ce,q as _,a4 as x,a5 as U,e as wt,aJ as St,W as Tt,aK as Ct,S as Ft,o as D,C as Nt,j as me,t as ge,F as Et,b as Bt,M as At,aL as tt}from"./index-Ddq0Vmzr.js";import{x as Rt,y as Te,z as Dt,u as It,g as Ot,h as Pt,A as Vt,k as xt,d as Re,C as Ge,D as Lt,_ as De,i as Mt}from"./useShowHide-717t6y_D-DsBGObqe.js";const $t=Qe({name:"ConditionalTeleport",inheritAttrs:!1,props:{to:{type:[String,Object],default:null},disabled:{type:Boolean,required:!0}},slots:Object,setup(r,{slots:e}){return()=>r.to?ft(vt,{to:r.to,disabled:r.disabled||!r.to},[e.default?.({})]):e.default?.({})}});var at=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Ce=at.join(","),rt=typeof Element>"u",Q=rt?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Fe=!rt&&Element.prototype.getRootNode?function(r){var e;return r==null||(e=r.getRootNode)===null||e===void 0?void 0:e.call(r)}:function(r){return r?.ownerDocument},Ne=function r(e,t){var n;t===void 0&&(t=!0);var a=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),s=a===""||a==="true",o=s||t&&e&&r(e.parentNode);return o},jt=function(e){var t,n=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return n===""||n==="true"},nt=function(e,t,n){if(Ne(e))return[];var a=Array.prototype.slice.apply(e.querySelectorAll(Ce));return t&&Q.call(e,Ce)&&a.unshift(e),a=a.filter(n),a},ot=function r(e,t,n){for(var a=[],s=Array.from(e);s.length;){var o=s.shift();if(!Ne(o,!1))if(o.tagName==="SLOT"){var f=o.assignedElements(),d=f.length?f:o.children,v=r(d,!0,n);n.flatten?a.push.apply(a,v):a.push({scopeParent:o,candidates:v})}else{var h=Q.call(o,Ce);h&&n.filter(o)&&(t||!e.includes(o))&&a.push(o);var m=o.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(o),w=!Ne(m,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(o));if(m&&w){var A=r(m===!0?o.children:m.children,!0,n);n.flatten?a.push.apply(a,A):a.push({scopeParent:o,candidates:A})}else s.unshift.apply(s,o.children)}}return a},it=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},J=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||jt(e))&&!it(e)?0:e.tabIndex},_t=function(e,t){var n=J(e);return n<0&&t&&!it(e)?0:n},Kt=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},lt=function(e){return e.tagName==="INPUT"},zt=function(e){return lt(e)&&e.type==="hidden"},Ht=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return t},qt=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]},Gt=function(e){if(!e.name)return!0;var t=e.form||Fe(e),n=function(f){return t.querySelectorAll('input[type="radio"][name="'+f+'"]')},a;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")a=n(window.CSS.escape(e.name));else try{a=n(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var s=qt(a,e.form);return!s||s===e},Wt=function(e){return lt(e)&&e.type==="radio"},Zt=function(e){return Wt(e)&&!Gt(e)},Ut=function(e){var t,n=e&&Fe(e),a=(t=n)===null||t===void 0?void 0:t.host,s=!1;if(n&&n!==e){var o,f,d;for(s=!!((o=a)!==null&&o!==void 0&&(f=o.ownerDocument)!==null&&f!==void 0&&f.contains(a)||e!=null&&(d=e.ownerDocument)!==null&&d!==void 0&&d.contains(e));!s&&a;){var v,h,m;n=Fe(a),a=(v=n)===null||v===void 0?void 0:v.host,s=!!((h=a)!==null&&h!==void 0&&(m=h.ownerDocument)!==null&&m!==void 0&&m.contains(a))}}return s},We=function(e){var t=e.getBoundingClientRect(),n=t.width,a=t.height;return n===0&&a===0},Yt=function(e,t){var n=t.displayCheck,a=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=Q.call(e,"details>summary:first-of-type"),o=s?e.parentElement:e;if(Q.call(o,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof a=="function"){for(var f=e;e;){var d=e.parentElement,v=Fe(e);if(d&&!d.shadowRoot&&a(d)===!0)return We(e);e.assignedSlot?e=e.assignedSlot:!d&&v!==e.ownerDocument?e=v.host:e=d}e=f}if(Ut(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return We(e);return!1},Jt=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var n=0;n<t.children.length;n++){var a=t.children.item(n);if(a.tagName==="LEGEND")return Q.call(t,"fieldset[disabled] *")?!0:!a.contains(e)}return!0}t=t.parentElement}return!1},Ee=function(e,t){return!(t.disabled||Ne(t)||zt(t)||Yt(t,e)||Ht(t)||Jt(t))},Ve=function(e,t){return!(Zt(t)||J(t)<0||!Ee(e,t))},Xt=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},Qt=function r(e){var t=[],n=[];return e.forEach(function(a,s){var o=!!a.scopeParent,f=o?a.scopeParent:a,d=_t(f,o),v=o?r(a.candidates):f;d===0?o?t.push.apply(t,v):t.push(f):n.push({documentOrder:s,tabIndex:d,item:a,isScope:o,content:v})}),n.sort(Kt).reduce(function(a,s){return s.isScope?a.push.apply(a,s.content):a.push(s.content),a},[]).concat(t)},ea=function(e,t){t=t||{};var n;return t.getShadowRoot?n=ot([e],t.includeContainer,{filter:Ve.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:Xt}):n=nt(e,t.includeContainer,Ve.bind(null,t)),Qt(n)},ta=function(e,t){t=t||{};var n;return t.getShadowRoot?n=ot([e],t.includeContainer,{filter:Ee.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):n=nt(e,t.includeContainer,Ee.bind(null,t)),n},ae=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return Q.call(e,Ce)===!1?!1:Ve(t,e)},aa=at.concat("iframe").join(","),Ie=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return Q.call(e,aa)===!1?!1:Ee(t,e)};function xe(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function ra(r){if(Array.isArray(r))return xe(r)}function na(r,e,t){return(e=ua(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function oa(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function ia(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ze(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Ue(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ze(Object(t),!0).forEach(function(n){na(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Ze(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function la(r){return ra(r)||oa(r)||ca(r)||ia()}function sa(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function ua(r){var e=sa(r,"string");return typeof e=="symbol"?e:e+""}function ca(r,e){if(r){if(typeof r=="string")return xe(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?xe(r,e):void 0}}var Ye={activateTrap:function(e,t){if(e.length>0){var n=e[e.length-1];n!==t&&n._setPausedState(!0)}var a=e.indexOf(t);a===-1||e.splice(a,1),e.push(t)},deactivateTrap:function(e,t){var n=e.indexOf(t);n!==-1&&e.splice(n,1),e.length>0&&!e[e.length-1]._isManuallyPaused()&&e[e.length-1]._setPausedState(!1)}},da=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},fa=function(e){return e?.key==="Escape"||e?.key==="Esc"||e?.keyCode===27},fe=function(e){return e?.key==="Tab"||e?.keyCode===9},va=function(e){return fe(e)&&!e.shiftKey},ba=function(e){return fe(e)&&e.shiftKey},Je=function(e){return setTimeout(e,0)},de=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return typeof e=="function"?e.apply(void 0,n):e},ke=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},pa=[],ya=function(e,t){var n=t?.document||document,a=t?.trapStack||pa,s=Ue({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:va,isKeyBackward:ba},t),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},f,d=function(i,l,c){return i&&i[l]!==void 0?i[l]:s[c||l]},v=function(i,l){var c=typeof l?.composedPath=="function"?l.composedPath():void 0;return o.containerGroups.findIndex(function(p){var y=p.container,k=p.tabbableNodes;return y.contains(i)||c?.includes(y)||k.find(function(b){return b===i})})},h=function(i){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=l.hasFallback,p=c===void 0?!1:c,y=l.params,k=y===void 0?[]:y,b=s[i];if(typeof b=="function"&&(b=b.apply(void 0,la(k))),b===!0&&(b=void 0),!b){if(b===void 0||b===!1)return b;throw new Error("`".concat(i,"` was specified but was not a node, or did not return a node"))}var S=b;if(typeof b=="string"){try{S=n.querySelector(b)}catch(T){throw new Error("`".concat(i,'` appears to be an invalid selector; error="').concat(T.message,'"'))}if(!S&&!p)throw new Error("`".concat(i,"` as selector refers to no known node"))}return S},m=function(){var i=h("initialFocus",{hasFallback:!0});if(i===!1)return!1;if(i===void 0||i&&!Ie(i,s.tabbableOptions))if(v(n.activeElement)>=0)i=n.activeElement;else{var l=o.tabbableGroups[0],c=l&&l.firstTabbableNode;i=c||h("fallbackFocus")}else i===null&&(i=h("fallbackFocus"));if(!i)throw new Error("Your focus-trap needs to have at least one focusable element");return i},w=function(){if(o.containerGroups=o.containers.map(function(i){var l=ea(i,s.tabbableOptions),c=ta(i,s.tabbableOptions),p=l.length>0?l[0]:void 0,y=l.length>0?l[l.length-1]:void 0,k=c.find(function(T){return ae(T)}),b=c.slice().reverse().find(function(T){return ae(T)}),S=!!l.find(function(T){return J(T)>0});return{container:i,tabbableNodes:l,focusableNodes:c,posTabIndexesFound:S,firstTabbableNode:p,lastTabbableNode:y,firstDomTabbableNode:k,lastDomTabbableNode:b,nextTabbableNode:function(P){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,I=l.indexOf(P);return I<0?H?c.slice(c.indexOf(P)+1).find(function(q){return ae(q)}):c.slice(0,c.indexOf(P)).reverse().find(function(q){return ae(q)}):l[I+(H?1:-1)]}}}),o.tabbableGroups=o.containerGroups.filter(function(i){return i.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!h("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(o.containerGroups.find(function(i){return i.posTabIndexesFound})&&o.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},A=function(i){var l=i.activeElement;if(l)return l.shadowRoot&&l.shadowRoot.activeElement!==null?A(l.shadowRoot):l},E=function(i){if(i!==!1&&i!==A(document)){if(!i||!i.focus){E(m());return}i.focus({preventScroll:!!s.preventScroll}),o.mostRecentlyFocusedNode=i,da(i)&&i.select()}},O=function(i){var l=h("setReturnFocus",{params:[i]});return l||(l===!1?!1:i)},ve=function(i){var l=i.target,c=i.event,p=i.isBackward,y=p===void 0?!1:p;l=l||ke(c),w();var k=null;if(o.tabbableGroups.length>0){var b=v(l,c),S=b>=0?o.containerGroups[b]:void 0;if(b<0)y?k=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:k=o.tabbableGroups[0].firstTabbableNode;else if(y){var T=o.tabbableGroups.findIndex(function(ie){var le=ie.firstTabbableNode;return l===le});if(T<0&&(S.container===l||Ie(l,s.tabbableOptions)&&!ae(l,s.tabbableOptions)&&!S.nextTabbableNode(l,!1))&&(T=b),T>=0){var P=T===0?o.tabbableGroups.length-1:T-1,H=o.tabbableGroups[P];k=J(l)>=0?H.lastTabbableNode:H.lastDomTabbableNode}else fe(c)||(k=S.nextTabbableNode(l,!1))}else{var I=o.tabbableGroups.findIndex(function(ie){var le=ie.lastTabbableNode;return l===le});if(I<0&&(S.container===l||Ie(l,s.tabbableOptions)&&!ae(l,s.tabbableOptions)&&!S.nextTabbableNode(l))&&(I=b),I>=0){var q=I===o.tabbableGroups.length-1?0:I+1,ye=o.tabbableGroups[q];k=J(l)>=0?ye.firstTabbableNode:ye.firstDomTabbableNode}else fe(c)||(k=S.nextTabbableNode(l))}}else k=h("fallbackFocus");return k},ee=function(i){var l=ke(i);if(!(v(l,i)>=0)){if(de(s.clickOutsideDeactivates,i)){f.deactivate({returnFocus:s.returnFocusOnDeactivate});return}de(s.allowOutsideClick,i)||i.preventDefault()}},R=function(i){var l=ke(i),c=v(l,i)>=0;if(c||l instanceof Document)c&&(o.mostRecentlyFocusedNode=l);else{i.stopImmediatePropagation();var p,y=!0;if(o.mostRecentlyFocusedNode)if(J(o.mostRecentlyFocusedNode)>0){var k=v(o.mostRecentlyFocusedNode),b=o.containerGroups[k].tabbableNodes;if(b.length>0){var S=b.findIndex(function(T){return T===o.mostRecentlyFocusedNode});S>=0&&(s.isKeyForward(o.recentNavEvent)?S+1<b.length&&(p=b[S+1],y=!1):S-1>=0&&(p=b[S-1],y=!1))}}else o.containerGroups.some(function(T){return T.tabbableNodes.some(function(P){return J(P)>0})})||(y=!1);else y=!1;y&&(p=ve({target:o.mostRecentlyFocusedNode,isBackward:s.isKeyBackward(o.recentNavEvent)})),E(p||o.mostRecentlyFocusedNode||m())}o.recentNavEvent=void 0},be=function(i){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o.recentNavEvent=i;var c=ve({event:i,isBackward:l});c&&(fe(i)&&i.preventDefault(),E(c))},pe=function(i){(s.isKeyForward(i)||s.isKeyBackward(i))&&be(i,s.isKeyBackward(i))},N=function(i){fa(i)&&de(s.escapeDeactivates,i)!==!1&&(i.preventDefault(),f.deactivate())},re=function(i){var l=ke(i);v(l,i)>=0||de(s.clickOutsideDeactivates,i)||de(s.allowOutsideClick,i)||(i.preventDefault(),i.stopImmediatePropagation())},ne=function(){if(o.active)return Ye.activateTrap(a,f),o.delayInitialFocusTimer=s.delayInitialFocus?Je(function(){E(m())}):E(m()),n.addEventListener("focusin",R,!0),n.addEventListener("mousedown",ee,{capture:!0,passive:!1}),n.addEventListener("touchstart",ee,{capture:!0,passive:!1}),n.addEventListener("click",re,{capture:!0,passive:!1}),n.addEventListener("keydown",pe,{capture:!0,passive:!1}),n.addEventListener("keydown",N),f},z=function(){if(o.active)return n.removeEventListener("focusin",R,!0),n.removeEventListener("mousedown",ee,!0),n.removeEventListener("touchstart",ee,!0),n.removeEventListener("click",re,!0),n.removeEventListener("keydown",pe,!0),n.removeEventListener("keydown",N),f},Be=function(i){var l=i.some(function(c){var p=Array.from(c.removedNodes);return p.some(function(y){return y===o.mostRecentlyFocusedNode})});l&&E(m())},oe=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(Be):void 0,L=function(){oe&&(oe.disconnect(),o.active&&!o.paused&&o.containers.map(function(i){oe.observe(i,{subtree:!0,childList:!0})}))};return f={get active(){return o.active},get paused(){return o.paused},activate:function(i){if(o.active)return this;var l=d(i,"onActivate"),c=d(i,"onPostActivate"),p=d(i,"checkCanFocusTrap");p||w(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=A(n),l?.();var y=function(){p&&w(),ne(),L(),c?.()};return p?(p(o.containers.concat()).then(y,y),this):(y(),this)},deactivate:function(i){if(!o.active)return this;var l=Ue({onDeactivate:s.onDeactivate,onPostDeactivate:s.onPostDeactivate,checkCanReturnFocus:s.checkCanReturnFocus},i);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,z(),o.active=!1,o.paused=!1,L(),Ye.deactivateTrap(a,f);var c=d(l,"onDeactivate"),p=d(l,"onPostDeactivate"),y=d(l,"checkCanReturnFocus"),k=d(l,"returnFocus","returnFocusOnDeactivate");c?.();var b=function(){Je(function(){k&&E(O(o.nodeFocusedBeforeActivation)),p?.()})};return k&&y?(y(O(o.nodeFocusedBeforeActivation)).then(b,b),this):(b(),this)},pause:function(i){return o.active?(o.manuallyPaused=!0,this._setPausedState(!0,i)):this},unpause:function(i){return o.active?(o.manuallyPaused=!1,a[a.length-1]!==this?this:this._setPausedState(!1,i)):this},updateContainerElements:function(i){var l=[].concat(i).filter(Boolean);return o.containers=l.map(function(c){return typeof c=="string"?n.querySelector(c):c}),o.active&&w(),L(),this}},Object.defineProperties(f,{_isManuallyPaused:{value:function(){return o.manuallyPaused}},_setPausedState:{value:function(i,l){if(o.paused===i)return this;if(o.paused=i,i){var c=d(l,"onPause"),p=d(l,"onPostPause");c?.(),z(),L(),p?.()}else{var y=d(l,"onUnpause"),k=d(l,"onPostUnpause");y?.(),w(),ne(),L(),k?.()}return this}}}),f.updateContainerElements(e),f};function ha(r,e={}){let t;const{immediate:n,...a}=e,s=_e(!1),o=_e(!1),f=w=>t&&t.activate(w),d=w=>t&&t.deactivate(w),v=()=>{t&&(t.pause(),o.value=!0)},h=()=>{t&&(t.unpause(),o.value=!1)},m=F(()=>{const w=X(r);return ht(w).map(A=>{const E=X(A);return typeof E=="string"?E:Te(E)}).filter(mt)});return K(m,w=>{if(w.length)if(!t)t=ya(w,{...a,onActivate(){s.value=!0,e.onActivate&&e.onActivate()},onDeactivate(){s.value=!1,e.onDeactivate&&e.onDeactivate()}}),n&&f();else{const A=t?.active;t?.updateContainerElements(w),!A&&n&&f()}},{flush:"post"}),Me(()=>d()),{hasFocus:s,isPaused:o,activate:f,deactivate:d,pause:v,unpause:h}}const ma=({element:r,isActive:e,noTrap:t,fallbackFocus:n,focus:a},s={allowOutsideClick:!0,fallbackFocus:n.ref.value??void 0,escapeDeactivates:!1,clickOutsideDeactivates:!1,initialFocus:a})=>{const o=Se(Pe(e)),f=Se(Pe(t)),d=()=>!r.value?.querySelectorAll(`a, button, input, select, textarea, [tabindex]:not([tabindex="-1"]):not(.${n.classSelector})`)?.length,v=et(!1);Le(()=>{v.value=d(),Rt(r,()=>{v.value=d()},{childList:!0,subtree:!0})});const h=ha(r,s);return K(o,async m=>{m&&f.value===!1?h.activate():h.deactivate()}),K(f,m=>{m===!0&&h.deactivate()}),{needsFallback:Se(v)}},ga=pt(Dt);let we="";const Y=new Map,ka=(r,e)=>{const t=Se(Pe(r)),n=bt(),a=F(()=>!X(e)),s=ga(typeof document<"u"?document.body:null,t.value&&a.value);Le(()=>{typeof document>"u"||(Y.set(n,!1),K([t,a],([o,f])=>{const d=window.innerWidth-document.documentElement.clientWidth,v=Array.from(Y.values()).some(w=>w===!0),h=o&&f;Y.set(n,h),h&&!v&&!s.value&&(s.value=!0,d>0&&(we=document.body.style.paddingRight,document.body.style.paddingRight=`${d+we}px`));const m=Array.from(Y.values()).some(w=>w===!0);v&&!m&&(Y.set(n,!1),s.value=!1,document.body.style.paddingRight=we)},{immediate:!0}))}),yt(()=>{Y.delete(n),Array.from(Y.values()).some(f=>f===!0)||(document.body.style.paddingRight=we,s.value=!1)})},wa=(r,e=typeof document<"u"?document:void 0)=>{if(r)return typeof r=="string"?typeof e>"u"||typeof document>"u"?void 0:document.getElementById(r)??e.querySelector(r)??void 0:r.$el??r},Oe="modal-open",Sa=()=>{const r=Tt(Ct),e=n=>{r?.removeStack(n),r?.removeRegistry(n)},t=Lt("updateHTMLAttrs",(n,a,s)=>{const o=typeof n=="string"?window?.document.querySelector(n):Te(n);o&&(a==="class"?o.classList.toggle(Oe,s===Oe):o.setAttribute(a,s))});return Me(()=>{r?.countStack.value===0&&t("body","class","")}),K(()=>r?.countStack.value,n=>{n!==void 0&&t("body","class",n>0?Oe:"")}),{...r,dispose:e}},Ta=(r,e)=>{const{pushRegistry:t,pushStack:n,removeStack:a,stack:s,dispose:o,countStack:f}=Sa(),d=St();if(!d||d.type.__name!=="BModal")throw new Error("useModalManager must only use in BModal component");t?.(d),Me(()=>{o(d)});const v=(h,m)=>{h?n?.(d):m&&!h&&a?.(d)};return v(e,e),K(r,v),{activePosition:F(()=>s?.value.findIndex(h=>X(h.exposed?.id)===X(d.exposed?.id))),activeModalCount:f,stackWithoutSelf:F(()=>s?.value.filter(h=>X(h.exposed?.id)!==X(d.exposed?.id))??[])}},Ca=["id","aria-labelledby","aria-describedby"],Fa=["id"],Xe="modal-fallback-focus",Ba=Qe({inheritAttrs:!1,__name:"BModal",props:Ke({focus:{type:[String,Boolean,Object,null],default:void 0},backdropFirst:{type:Boolean,default:!1},body:{default:void 0},bodyAttrs:{default:void 0},bodyBgVariant:{default:null},bodyClass:{default:null},bodyScrolling:{type:Boolean,default:!1},bodyTextVariant:{default:null},bodyVariant:{default:null},busy:{type:Boolean,default:!1},buttonSize:{default:"md"},cancelClass:{default:void 0},cancelDisabled:{type:Boolean,default:!1},cancelTitle:{default:"Cancel"},cancelVariant:{default:"secondary"},centered:{type:Boolean,default:!1},contentClass:{default:void 0},dialogClass:{default:void 0},footerBgVariant:{default:null},footerBorderVariant:{default:null},footerClass:{default:void 0},footerTextVariant:{default:null},footerVariant:{default:null},fullscreen:{type:[Boolean,String],default:!1},headerAttrs:{default:void 0},headerBgVariant:{default:null},headerBorderVariant:{default:null},headerClass:{default:void 0},headerCloseClass:{default:void 0},headerCloseLabel:{default:"Close"},headerCloseVariant:{default:"secondary"},headerTextVariant:{default:null},headerVariant:{default:null},noBackdrop:{type:Boolean,default:!1},noFooter:{type:Boolean,default:!1},noHeader:{type:Boolean,default:!1},noHeaderClose:{type:Boolean,default:!1},id:{default:void 0},modalClass:{default:void 0},noCloseOnBackdrop:{type:Boolean,default:!1},noCloseOnEsc:{type:Boolean,default:!1},noTrap:{type:Boolean,default:!1},noStacking:{type:Boolean},okClass:{default:void 0},okDisabled:{type:Boolean,default:!1},okOnly:{type:Boolean,default:!1},okTitle:{default:"OK"},okVariant:{default:"primary"},scrollable:{type:Boolean,default:!1},size:{default:"md"},title:{default:void 0},titleClass:{default:void 0},titleVisuallyHidden:{type:Boolean,default:!1},titleTag:{default:"h5"},teleportDisabled:{type:Boolean,default:!1},teleportTo:{default:"body"},initialAnimation:{type:Boolean,default:!1},noAnimation:{type:Boolean},noFade:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},unmountLazy:{type:Boolean,default:!1},show:{type:Boolean,default:!1},transProps:{default:void 0},visible:{type:Boolean,default:!1}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:Ke(["backdrop","close","esc","hide","hide-prevented","hidden","show","show-prevented","shown","toggle","toggle-prevented","cancel","ok"],["update:modelValue"]),setup(r,{expose:e,emit:t}){const a=It(r,"BModal"),s=t,o=gt(),f=Ot(()=>a.id,"modal"),d=kt(r,"modelValue"),v=ue("_element"),h=ue("_fallbackFocusElement"),m=ue("_okButton"),w=ue("_cancelButton"),A=ue("_closeButton"),E=()=>a.focus&&typeof a.focus!="boolean"?a.focus==="ok"?m:a.focus==="close"?A:a.focus==="cancel"?w:wa(a.focus,v.value??void 0)??v.value:v;let O=null;const ve=()=>{if(a.noTrap&&a.focus!==!1){O=document.activeElement,O===v.value&&(O=null);const C=Te(E());if(!C)return;C?.focus(),C.tagName&&C.tagName.toLowerCase()==="input"&&typeof C.select=="function"&&C.select()}},ee=()=>{a.noTrap&&a.focus!==!1&&O&&(O?.focus(),O=null)},{showRef:R,renderRef:be,renderBackdropRef:pe,hide:N,show:re,toggle:ne,computedNoAnimation:z,transitionProps:Be,backdropTransitionProps:oe,isLeaving:L,isVisible:g,trapActive:i,contentShowing:l,backdropReady:c,backdropVisible:p}=Pt(d,a,s,v,f,{transitionProps:{onAfterEnter:ve,onAfterLeave:ee}}),{needsFallback:y}=ma({element:v,isActive:i,noTrap:()=>a.noTrap,fallbackFocus:{ref:h,classSelector:Xe},focus:()=>a.focus===!1?!1:Te(E())??void 0});Vt("Escape",()=>{N("esc")},{target:v}),ka(R,()=>a.bodyScrolling);const k=F(()=>!xt(o["header-close"])),b=F(()=>[a.dialogClass,{"modal-fullscreen":a.fullscreen===!0,[`modal-fullscreen-${a.fullscreen}-down`]:typeof a.fullscreen=="string",[`modal-${a.size}`]:a.size!=="md","modal-dialog-centered":a.centered,"modal-dialog-scrollable":a.scrollable}]),S=Re(()=>({bgVariant:a.bodyBgVariant,textVariant:a.bodyTextVariant,variant:a.bodyVariant})),T=F(()=>[a.bodyClass,S.value]),P=Re(()=>({bgVariant:a.headerBgVariant,textVariant:a.headerTextVariant,variant:a.headerVariant,borderVariant:a.headerBorderVariant})),H=F(()=>[a.headerClass,P.value]),I=F(()=>({variant:k.value?a.headerCloseVariant:void 0,class:a.headerCloseClass})),q=Re(()=>({bgVariant:a.footerBgVariant,textVariant:a.footerTextVariant,variant:a.footerVariant,borderVariant:a.footerBorderVariant})),ye=F(()=>[a.footerClass,q.value]),ie=F(()=>[a.titleClass,{"visually-hidden":a.titleVisuallyHidden}]),le=F(()=>a.cancelDisabled||a.busy),st=F(()=>a.okDisabled||a.busy),{activePosition:G,activeModalCount:te,stackWithoutSelf:ut}=Ta(R,d.value),$e=F(()=>({[`stack-position-${G?.value??0}`]:!0,[`stack-inverse-position-${(te?.value??1)-1-(G?.value??0)}`]:!0}));K(ut,(C,B)=>{C.length>B.length&&R.value===!0&&a.noStacking===!0&&N()});const Ae=et(Ge(v.value??(typeof document<"u"?document.body:void 0)));Le(()=>{K(be,C=>{C&&Ft(()=>{v.value&&(Ae.value=Ge(v.value))})},{immediate:!0})});const je=F(()=>R.value||L.value?Ae.value-((te?.value??0)*2-(G?.value??0)*2):Ae.value),ct=F(()=>({"z-index":je.value,"--b-position":G?.value??0,"--b-inverse-position":(te?.value??1)-1-(G?.value??0),"--b-count":te?.value??0})),dt=F(()=>({"z-index":je.value-1,"--b-position":G?.value??0,"--b-inverse-position":(te?.value??1)-1-(G?.value??0),"--b-count":te?.value??0})),M=F(()=>({id:f.value,cancel:()=>{N("cancel")},close:()=>{N("close")},hide:N,show:re,toggle:ne,ok:()=>{N("ok")},active:R.value,visible:R.value}));return e({hide:N,id:f,show:re,toggle:ne,visible:R}),(C,B)=>(D(),W($t,{to:u(a).teleportTo,disabled:u(a).teleportDisabled},{default:Z(()=>[u(be)||u(l)?(D(),W(ze,j({key:0},u(Be),{appear:d.value||u(a).visible}),{default:Z(()=>[He(he("div",j({id:u(f),ref:"_element",class:["modal",[u(a).modalClass,{fade:!u(z),show:u(g),...$e.value}]],role:"dialog","aria-labelledby":u(a).noHeader?void 0:`${u(f)}-label`,"aria-describedby":`${u(f)}-body`,tabindex:"-1"},C.$attrs,{style:[ct.value,{display:"block"}],onMousedown:B[4]||(B[4]=wt(se=>u(N)("backdrop"),["left","self"]))}),[he("div",{class:_(["modal-dialog",b.value])},[u(l)?(D(),ce("div",{key:0,class:_(["modal-content",u(a).contentClass])},[u(a).noHeader?V("",!0):(D(),ce("div",j({key:0,class:["modal-header",H.value]},u(a).headerAttrs),[$(C.$slots,"header",x(U(M.value)),()=>[(D(),W(Nt(u(a).titleTag),{id:`${u(f)}-label`,class:_(["modal-title",ie.value])},{default:Z(()=>[$(C.$slots,"title",x(U(M.value)),()=>[me(ge(u(a).title),1)])]),_:3},8,["id","class"])),u(a).noHeaderClose?V("",!0):(D(),ce(Et,{key:0},[k.value?(D(),W(De,j({key:0,ref:"_closeButton"},I.value,{onClick:B[0]||(B[0]=se=>u(N)("close"))}),{default:Z(()=>[$(C.$slots,"header-close",x(U(M.value)))]),_:3},16)):(D(),W(Mt,j({key:1,ref:"_closeButton","aria-label":u(a).headerCloseLabel},I.value,{onClick:B[1]||(B[1]=se=>u(N)("close"))}),null,16,["aria-label"]))],64))])],16)),he("div",j({id:`${u(f)}-body`,class:["modal-body",T.value]},u(a).bodyAttrs),[$(C.$slots,"default",x(U(M.value)),()=>[me(ge(u(a).body),1)])],16,Fa),u(a).noFooter?V("",!0):(D(),ce("div",{key:1,class:_(["modal-footer",ye.value])},[$(C.$slots,"footer",x(U(M.value)),()=>[$(C.$slots,"cancel",x(U(M.value)),()=>[u(a).okOnly?V("",!0):(D(),W(De,{key:0,ref:"_cancelButton",disabled:le.value,size:u(a).buttonSize,variant:u(a).cancelVariant,class:_(u(a).cancelClass),onClick:B[2]||(B[2]=se=>u(N)("cancel"))},{default:Z(()=>[me(ge(u(a).cancelTitle),1)]),_:1},8,["disabled","size","variant","class"]))]),$(C.$slots,"ok",x(U(M.value)),()=>[Bt(De,{ref:"_okButton",disabled:st.value,size:u(a).buttonSize,variant:u(a).okVariant,class:_(u(a).okClass),onClick:B[3]||(B[3]=se=>u(N)("ok"))},{default:Z(()=>[me(ge(u(a).okTitle),1)]),_:1},8,["disabled","size","variant","class"])])])],2))],2)):V("",!0)],2),u(y)?(D(),ce("div",{key:0,ref:"_fallbackFocusElement",class:_(Xe),tabindex:"0",style:{width:"0",height:"0",overflow:"hidden"}},null,512)):V("",!0)],16,Ca),[[qe,u(R)&&(u(c)&&u(a).backdropFirst||!u(a).backdropFirst)]])]),_:3},16,["appear"])):V("",!0),u(a).noBackdrop?V("",!0):$(C.$slots,"backdrop",x(j({key:1},M.value)),()=>[u(pe)?(D(),W(ze,x(j({key:0},u(oe))),{default:Z(()=>[He(he("div",{class:_(["modal-backdrop",{fade:!u(z),show:u(p)||u(z),...$e.value}]),style:At(dt.value),onClick:B[5]||(B[5]=se=>u(N)("backdrop"))},null,6),[[qe,u(R)||u(L)&&u(a).backdropFirst&&!u(z)]])]),_:1},16)):V("",!0)])]),_:3},8,["to","disabled"]))}});function Aa(){tt().setLoading(!0)}function Ra(){tt().setLoading(!1)}export{Ba as _,Aa as a,$t as b,wa as g,Ra as r};
