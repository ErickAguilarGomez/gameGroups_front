import{_ as F,a as G}from"./BCard.vue_vue_type_script_setup_true_lang-BjoxuViz-DGy1sf2k.js";import{u as H,s as J,_ as K,r as _,c as Q,o as i,a as l,b as s,w as o,d as a,e as W,f as d,g as v,h as t,i as V,j as b,t as z,k as X}from"./index-COsPQxU0.js";import{_ as Y,a as Z}from"./BForm.vue_vue_type_script_setup_true_lang-u44ElAm9-C_gnyHVu.js";import{_ as ee,a as se,b as oe}from"./BFormInput.vue_vue_type_script_setup_true_lang-D3z3jxbI-FC7C4P_5.js";import{_ as te,a as ne,b as ae}from"./BInputGroupText.vue_vue_type_script_setup_true_lang-BBN5F0A4-BuOY8v3i.js";function le(){const n=H();return{...J(n),login:n.login,logout:n.logout,fetchUser:n.fetchUser,setUser:n.setUser,clearError:n.clearError,reset:n.reset}}const re={class:"login-view"},ie={class:"login-container"},ce={class:"text-center mb-4"},ue={class:"login-icon mb-3"},_e={class:"text-center"},de={class:"text-muted mb-0"},me={__name:"LoginView",setup(n){const w=X(),{login:C,isAdmin:h,isAssistant:E}=le(),m=_(""),p=_(""),c=_(null),r=_(!1),f=_(!1);async function U(){c.value=null,r.value=!0;const g=await C(m.value,p.value);if(r.value=!1,g.success){let e=null;E.value||h.value?e="/ceo/users":e="/user/groups",w.push(e)}else c.value=g.error}return(g,e)=>{const S=a("IconUserCircle"),A=a("IconMail"),I=ae,y=ee,k=ne,$=te,L=a("IconLock"),N=a("IconEye"),R=a("IconEyeOff"),x=se,B=a("IconAlertCircle"),q=Z,M=oe,T=a("IconLogin"),j=a("router-link"),D=Y,O=F,P=G;return i(),Q("div",re,[l("div",ie,[s(P,{class:"login-card shadow-lg"},{default:o(()=>[s(O,null,{default:o(()=>[l("div",ce,[l("div",ue,[s(S,{size:60,"stroke-width":1.5})]),e[4]||(e[4]=l("h2",{class:"fw-bold"},"Iniciar Sesión",-1)),e[5]||(e[5]=l("p",{class:"text-muted"},"Ingresa tus credenciales para continuar",-1))]),s(D,{onSubmit:W(U,["prevent"])},{default:o(()=>[s($,{label:"Correo Electrónico","label-for":"email",class:"mb-3"},{default:o(()=>[s(k,null,{prepend:o(()=>[s(I,null,{default:o(()=>[s(A,{size:20})]),_:1})]),default:o(()=>[s(y,{id:"email",modelValue:t(m),"onUpdate:modelValue":e[0]||(e[0]=u=>V(m)?m.value=u:null),type:"email",placeholder:"usuario@ejemplo.com",required:"",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1}),s($,{label:"Contraseña","label-for":"password",class:"mb-3"},{default:o(()=>[s(k,null,{prepend:o(()=>[s(I,null,{default:o(()=>[s(L,{size:20})]),_:1})]),append:o(()=>[s(x,{variant:"outline-secondary",onClick:e[2]||(e[2]=u=>f.value=!t(f))},{default:o(()=>[t(f)?(i(),d(R,{key:1,size:20})):(i(),d(N,{key:0,size:20}))]),_:1})]),default:o(()=>[s(y,{id:"password",modelValue:t(p),"onUpdate:modelValue":e[1]||(e[1]=u=>V(p)?p.value=u:null),type:t(f)?"text":"password",placeholder:"Tu contraseña",required:"",size:"lg"},null,8,["modelValue","type"])]),_:1})]),_:1}),t(c)?(i(),d(q,{key:0,variant:"danger",show:"",dismissible:"",onDismissed:e[3]||(e[3]=u=>c.value=null),class:"mb-3"},{default:o(()=>[s(B,{size:20,class:"me-2"}),b(" "+z(t(c)),1)]),_:1})):v("",!0),s(x,{type:"submit",variant:"primary",size:"lg",class:"w-100 mb-3",disabled:t(r)},{default:o(()=>[t(r)?(i(),d(M,{key:0,small:"",class:"me-2"})):v("",!0),t(r)?v("",!0):(i(),d(T,{key:1,size:20,class:"me-2"})),b(" "+z(t(r)?"Ingresando...":"Iniciar Sesión"),1)]),_:1},8,["disabled"]),l("div",_e,[l("p",de,[e[7]||(e[7]=b(" ¿No tienes cuenta? ",-1)),s(j,{to:"/register",class:"text-decoration-none fw-semibold"},{default:o(()=>[...e[6]||(e[6]=[b(" Regístrate aquí ",-1)])]),_:1})])])]),_:1})]),_:1})]),_:1})])])}}},we=K(me,[["__scopeId","data-v-5c23b945"]]);export{we as default};
