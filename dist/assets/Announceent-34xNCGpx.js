import{_ as Ie,v as De}from"./BFormTextarea.vue_vue_type_script_setup_true_lang-DB0GbEW7-zQ7uLZyc.js";import{a as se,r as ee,_ as Se}from"./usePreloader-DvikwN0v.js";import{a as pe,b as Ue,_ as _e}from"./BCard.vue_vue_type_script_setup_true_lang-BjoxuViz-BXXky_ep.js";import{_ as Fe,M as Te,a as ze,I as Re,b as Ne}from"./ImagePreview-sipDSbfw.js";import{u as Ee,g as Le,j as qe,k as je,_ as be,a as ye}from"./useShowHide-717t6y_D-DsBGObqe.js";import{a as te,u as re}from"./announcement-BE_lohNR.js";import{z as D,Z as ge,Y as Pe,U as Me,l as ie,$ as Oe,a0 as Ge,a8 as Ye,a2 as de,W as He,a1 as Ke,f as k,o as f,w as l,B as oe,c as P,g as x,a as m,E as O,h as v,a9 as We,q as Xe,D as Je,aa as Ze,y as he,u as Qe,r as g,A as ne,b as n,d as G,ab as et,ac as K,j as z,t as V,S as ke,_ as tt,m as at}from"./index-Ddq0Vmzr.js";import{u as lt,b as nt,_ as st,c as ot}from"./BFormInput.vue_vue_type_script_setup_true_lang-D3z3jxbI-jXeus3ps.js";import{_ as it,I as ut,u as rt}from"./cloudinaryService-D0N9w0Bd.js";import{e as ce,C as me}from"./es-B4xRyWDV.js";import{a as ve}from"./table.fields-D5F4tg7_.js";const dt=T=>D(()=>{const u=ge(T);return{"form-check":u.plain===!1&&u.button===!1&&u.hasDefaultSlot,"form-check-reverse":u.reverse===!0,"form-check-inline":u.inline===!0,"form-switch":u.switch===!0,[`form-control-${u.size}`]:u.size!==void 0&&u.size!=="md"&&u.button===!1}}),ct=T=>{const u=Pe(Me(T)),M=lt(()=>u.value.state??null);return D(()=>[M.value,{"form-check-input":u.value.plain===!1&&u.value.button===!1,"btn-check":u.value.button===!0}])},mt=T=>D(()=>{const u=ge(T);return{"form-check-label":u.plain===!1&&u.button===!1,btn:u.button===!0,[`btn-${u.buttonVariant}`]:u.button===!0&&u.buttonVariant!==void 0&&u.buttonVariant!==null,[`btn-${u.size}`]:u.button&&u.size&&u.size!=="md"}}),vt=["id","disabled","required","name","form","aria-label","aria-labelledby","aria-required","value","true-value","false-value","indeterminate"],ft=["for"],pt=ie({inheritAttrs:!1,__name:"BFormCheckbox",props:Oe({ariaLabel:{default:void 0},ariaLabelledby:{default:void 0},autofocus:{type:Boolean,default:!1},button:{type:Boolean,default:!1},buttonGroup:{type:Boolean,default:!1},buttonVariant:{default:null},disabled:{type:Boolean,default:!1},form:{default:void 0},id:{default:void 0},inline:{type:Boolean,default:!1},name:{default:void 0},plain:{type:Boolean,default:!1},required:{type:Boolean,default:void 0},reverse:{type:Boolean,default:!1},size:{default:void 0},state:{type:[Boolean,null],default:null},switch:{type:Boolean,default:!1},uncheckedValue:{type:[Array,Set,String,Boolean,Object,Number,null],default:!1},wrapperAttrs:{default:void 0},inputClass:{default:void 0},value:{type:[String,Boolean,Array,Set,Object,Number,null],default:!0}},{modelValue:{type:[Array,Set,String,Boolean,Object,Number,null],default:void 0},modelModifiers:{},indeterminate:{type:Boolean,default:!1},indeterminateModifiers:{}}),emits:["update:modelValue","update:indeterminate"],setup(T,{expose:u}){const o=Ee(T,"BFormCheckbox"),E=Ge(),S=Ye(),U=de(T,"modelValue"),F=de(T,"indeterminate"),R=D(()=>{const{class:c,...N}=S;return{wrapperClass:c,inputAttrs:N}}),_=Le(()=>o.id,"form-check"),d=He(Ze,null),Y=Ke("_input"),{focused:L}=qe(Y,{initialValue:o.autofocus}),b=D(()=>!je(E.default)),y=D({get:()=>d?d.modelValue.value:U.value,set:c=>{if(c!==void 0){if(F.value=!1,d!==null&&Array.isArray(c)){d.modelValue.value=c;return}U.value=c}}}),t=D(()=>!!(o.name??d?.name.value)&&(o.required||d?.required.value)),B=D(()=>o.buttonGroup||(d?.buttons.value??!1)),I=D(()=>({plain:o.plain||(d?.plain.value??!1),button:o.button||(d?.buttons.value??!1),inline:o.inline||(d?.inline.value??!1),reverse:o.reverse||(d?.reverse.value??!1),switch:o.switch||(d?.switch.value??!1),state:o.state===!0||o.state===!1?o.state:d?.state.value??null,size:o.size??d?.size.value??"md",buttonVariant:o.buttonVariant??d?.buttonVariant.value??"secondary",hasDefaultSlot:b.value})),q=dt(I),W=D(()=>[q.value,R.value.wrapperClass]),X=ct(I),J=D(()=>[X.value,o.inputClass]),i=mt(I);return u({blur:()=>{L.value=!1},element:Y,focus:()=>{L.value=!0}}),(c,N)=>(f(),k(it,O({skip:B.value},v(o).wrapperAttrs,{class:W.value}),{default:l(()=>[oe(m("input",O({id:v(_),ref:"_input","onUpdate:modelValue":N[0]||(N[0]=H=>y.value=H),class:J.value,type:"checkbox",disabled:v(o).disabled||v(d)?.disabled.value,required:t.value||void 0,name:v(o).name||v(d)?.name.value,form:v(o).form||v(d)?.form.value,"aria-label":v(o).ariaLabel,"aria-labelledby":v(o).ariaLabelledby,"aria-required":t.value||void 0,value:v(o).value,"true-value":v(o).value,"false-value":v(o).uncheckedValue,indeterminate:F.value||void 0},R.value.inputAttrs),null,16,vt),[[We,y.value]]),b.value||v(o).plain===!1?(f(),P("label",{key:0,for:v(_),class:Xe(v(i))},[Je(c.$slots,"default")],10,ft)):x("",!0)]),_:3},16,["skip","class"]))}}),_t={class:"store-announcement"},bt={class:"d-flex align-items-center"},yt=["disabled"],gt={class:"d-flex align-items-center gap-2"},ht={class:"d-flex gap-2 justify-content-end"},kt=ie({__name:"StoreAnnouncement",props:{id:{type:Number}},emits:["refresh"],setup(T,{expose:u,emit:M}){const o=T,E=M,{toast:S}=he(),U=Qe(),F=g(),R=g(null);let _=null;const d=g(0),Y=g({enableTime:!0,dateFormat:"Y-m-d H:i",time_24hr:!0,locale:ce.Spanish,allowInput:!0,minDate:new Date}),L=g({enableTime:!0,dateFormat:"Y-m-d H:i",time_24hr:!0,locale:ce.Spanish,allowInput:!0,minDate:new Date}),b=g(!1),y=g(!1),t=g({title:"",description:"",url:"",start_date:null,end_date:null,is_active:!0,is_video:!1,image:null}),B=g(null),I=g(null),q=D(()=>!!o.id),W=D(()=>()=>t.value.is_video||q.value&&B.value?"image":"required|image");async function X(a){if(a)try{const e=await te.showAnnouncement({id:a}),r=e.data||e,A=(r.url||"").toString().match(/youtube|vimeo|youtu\.be|vimeo\.com/i),w=ae(r.start_date),C=ae(r.end_date);t.value={title:r.title||"",description:r.description||"",url:r.url||"",start_date:w?Z(w):"",end_date:C?Z(C):"",is_active:r.is_active!==void 0?r.is_active:!0,is_video:r.is_video!==void 0?!!r.is_video:!!A,image:null},B.value=t.value.is_video?null:r.url||null,I.value=B.value,w&&(L.value.minDate=w);try{await ke(),F.value?.setValues&&F.value.setValues({title:t.value.title,description:t.value.description,url:t.value.url,start_date:t.value.start_date,end_date:t.value.end_date,is_active:t.value.is_active,is_video:t.value.is_video,image:null},!0)}catch(s){console.warn("Could not set formRef values",s)}}catch(e){console.error("Error loading announcement:",e),S("Error al cargar el anuncio","error")}}const J=a=>{const e=a;if(!e)return"La fecha de inicio es requerida";const r=e instanceof Date?e:new Date(e);return isNaN(r.getTime())?"Fecha de inicio inválida":r<new Date?"La fecha de inicio no puede ser anterior a la fecha/hora actual":!0},i=a=>{const e=a;if(!e)return"La fecha de fin es requerida";const r=e instanceof Date?e:new Date(e);if(isNaN(r.getTime()))return"Fecha de fin inválida";const A=t.value.start_date;if(!A)return"Selecciona la fecha de inicio primero";const w=A instanceof Date?A:new Date(A);return isNaN(w.getTime())?"Fecha de inicio inválida":r<=w?"La fecha de fin debe ser mayor que la fecha de inicio":!0};function c(a){if(t.value.image=a,_){try{URL.revokeObjectURL(_)}catch{}_=null}if(a){const e=URL.createObjectURL(a);I.value=e,_=e,B.value=null}else I.value=null}function N(a){if(_&&a!==_){try{URL.revokeObjectURL(_)}catch{}_=null}I.value=a,a&&(B.value=null)}function H(a){const e=h=>h<10?"0"+h:""+h,r=a.getFullYear(),A=e(a.getMonth()+1),w=e(a.getDate()),C=e(a.getHours()),s=e(a.getMinutes());return`${r}-${A}-${w} ${C}:${s}:00`}const ae=a=>{if(!a)return null;const e=a.includes(" ")?a.replace(" ","T"):a,r=new Date(e);return isNaN(r.getTime())?null:r},Z=a=>{const e=h=>h<10?"0"+h:""+h,r=a.getFullYear(),A=e(a.getMonth()+1),w=e(a.getDate()),C=e(a.getHours()),s=e(a.getMinutes());return`${r}-${A}-${w} ${C}:${s}`},Q=async()=>{if(t.value={title:"",description:"",url:"",start_date:"",end_date:"",is_active:!0,is_video:!1,image:null},d.value++,_){try{URL.revokeObjectURL(_)}catch{}_=null}I.value=null,B.value=null,F.value?.resetForm()},le=async()=>{b.value=!0,se();try{let a="";if(!t.value.is_video&&!B.value&&!t.value.image){S("Debes subir una imagen o seleccionar un video","error"),b.value=!1,ee();return}if(t.value.is_video&&!t.value.url){S("Debes ingresar la URL del video","error"),b.value=!1,ee();return}if(t.value.is_video)a=t.value.url;else if(t.value.image&&t.value.image instanceof File){y.value=!0;try{a=await rt(t.value.image)}finally{y.value=!1}}else a=B.value||"";const e={title:t.value.title,description:t.value.description||"",start_date:typeof t.value.start_date=="string"||!t.value.start_date?t.value.start_date:H(t.value.start_date),end_date:typeof t.value.end_date=="string"||!t.value.end_date?t.value.end_date:H(t.value.end_date),user_id:U.currentUser?.id||"",url:a};if(e.is_video=t.value.is_video?1:0,q.value&&o.id){e.id=o.id,await te.updateAnnouncement(e),S("Anuncio actualizado exitosamente","success");try{await re().fetchAnnouncements()}catch{}E("refresh")}else{await te.createAnnouncement(e),S("Anuncio creado exitosamente","success");try{await re().fetchAnnouncements()}catch{}}await Q()}catch(a){const e=a.response?.data?.message||a.message||"Error al crear el anuncio";S(e,"error")}finally{b.value=!1,ee()}};return u({updateFile:c,updatePreview:N}),ne(()=>t.value.start_date,a=>{if(a){const e=new Date(a);isNaN(e.getTime())||(L.value.minDate=e)}else L.value.minDate=new Date}),ne(()=>t.value.is_video,a=>{if(a){if(t.value.image=null,R.value&&(R.value.value=""),_){try{URL.revokeObjectURL(_)}catch{}_=null}I.value=null,B.value=null}}),ne(()=>o.id,a=>{a?X(a):Q()},{immediate:!0}),(a,e)=>{const r=G("IconPlus"),A=Ue,w=st,C=ot,s=nt,h=Fe,we=Ie,Ce=pt,Ve=G("IconX"),ue=be,Be=ye,Ae=G("IconCheck"),$e=_e,xe=pe;return f(),P("div",_t,[n(xe,{"no-body":"",class:"gamer-card"},{default:l(()=>[q.value?x("",!0):(f(),k(A,{key:0,class:"gamer-card-header"},{default:l(()=>[m("div",bt,[n(r,{size:24,class:"me-2 text-primary"}),e[9]||(e[9]=m("h4",{class:"gamer-title mb-0"},"Crear Nuevo Anuncio",-1))])]),_:1})),n($e,{class:"gamer-card-body"},{default:l(()=>[n(v(et),{ref_key:"formRef",ref:F,onSubmit:le,class:"announcement-form"},{default:l(()=>[m("fieldset",{disabled:b.value||y.value,style:{border:"0",padding:"0",margin:"0"}},[n(h,{class:"mb-3"},{default:l(()=>[n(s,{md:"12"},{default:l(()=>[e[10]||(e[10]=m("p",{class:"field-label"},"Título del Anuncio",-1)),n(v(K),{rules:"required|min:3",name:"title"},{default:l(({field:$,errorMessage:p})=>[n(w,O({id:"title"},$,{modelValue:t.value.title,"onUpdate:modelValue":e[0]||(e[0]=j=>t.value.title=j),placeholder:"Ingresa el título del anuncio",state:p?!1:null,required:""}),null,16,["modelValue","state"]),p?(f(),k(C,{key:0},{default:l(()=>[z(V(p),1)]),_:2},1024)):x("",!0)]),_:1})]),_:1})]),_:1}),n(h,{class:"mb-3"},{default:l(()=>[n(s,{md:"12"},{default:l(()=>[e[11]||(e[11]=m("p",{class:"field-label"},"Descripción",-1)),n(v(K),{rules:"max:1000",name:"description"},{default:l(({field:$,errorMessage:p})=>[n(we,O({id:"description"},$,{modelValue:t.value.description,"onUpdate:modelValue":e[1]||(e[1]=j=>t.value.description=j),placeholder:"Describe el contenido del anuncio...",rows:"4",state:p?!1:null}),null,16,["modelValue","state"]),p?(f(),k(C,{key:0},{default:l(()=>[z(V(p),1)]),_:2},1024)):x("",!0)]),_:1})]),_:1})]),_:1}),n(h,{class:"mb-3"},{default:l(()=>[n(s,{md:"3"},{default:l(()=>[e[12]||(e[12]=m("p",{class:"field-label"},"Fecha de Inicio",-1)),n(v(K),{rules:J,name:"start_date"},{default:l(({field:$,errorMessage:p})=>[n(v(me),O({id:"start_date"},$,{modelValue:t.value.start_date,"onUpdate:modelValue":e[2]||(e[2]=j=>t.value.start_date=j),config:Y.value,class:"form-control",placeholder:"Selecciona fecha y hora de inicio",state:p?!1:null,required:""}),null,16,["modelValue","config","state"]),p?(f(),k(C,{key:0},{default:l(()=>[z(V(p),1)]),_:2},1024)):x("",!0)]),_:1})]),_:1}),n(s,{md:"3"},{default:l(()=>[e[13]||(e[13]=m("p",{class:"field-label"},"Fecha de Fin",-1)),n(v(K),{rules:i,name:"end_date"},{default:l(({field:$,errorMessage:p})=>[n(v(me),O({id:"end_date"},$,{modelValue:t.value.end_date,"onUpdate:modelValue":e[3]||(e[3]=j=>t.value.end_date=j),config:L.value,class:"form-control",placeholder:"Selecciona fecha y hora de fin",state:p?!1:null,required:""}),null,16,["modelValue","config","state"]),p?(f(),k(C,{key:0},{default:l(()=>[z(V(p),1)]),_:2},1024)):x("",!0)]),_:1})]),_:1}),n(s,{md:"6",class:"d-flex align-items-center"},{default:l(()=>[m("div",null,[e[15]||(e[15]=m("p",{class:"field-label mb-2"},"Tipo de Anuncio",-1)),n(Ce,{id:"is_video",modelValue:t.value.is_video,"onUpdate:modelValue":e[4]||(e[4]=$=>t.value.is_video=$),class:"custom-checkbox circular-checkbox"},{default:l(()=>[...e[14]||(e[14]=[m("span",{class:"checkbox-label"},"¿Video?",-1)])]),_:1},8,["modelValue"])])]),_:1})]),_:1}),t.value.is_video?(f(),k(h,{key:0,class:"mb-3"},{default:l(()=>[n(s,{md:"12"},{default:l(()=>[e[17]||(e[17]=m("p",{class:"field-label"},"URL del Video",-1)),n(v(K),{rules:"required|url",name:"url"},{default:l(({field:$,errorMessage:p})=>[n(w,O({id:"url"},$,{modelValue:t.value.url,"onUpdate:modelValue":e[5]||(e[5]=j=>t.value.url=j),type:"url",placeholder:"https://www.youtube.com/watch?v=... o https://vimeo.com/...",state:p?!1:null,required:""}),null,16,["modelValue","state"]),p?(f(),k(C,{key:0},{default:l(()=>[z(V(p),1)]),_:2},1024)):x("",!0),e[16]||(e[16]=m("small",{class:"text-muted"},"Ingresa la URL completa del video (YouTube, Vimeo, etc.)",-1))]),_:1})]),_:1})]),_:1})):x("",!0),t.value.is_video?x("",!0):(f(),k(h,{key:1,class:"mb-4"},{default:l(()=>[n(s,{md:"12"},{default:l(()=>[e[19]||(e[19]=m("p",{class:"field-label"},"Subir Imagen del Anuncio",-1)),(f(),k(v(K),{key:d.value,rules:W.value,name:"image"},{default:l(({errorMessage:$})=>[m("div",gt,[n(ut,{"initial-preview":I.value||B.value,disabled:b.value||y.value,"onUpdate:file":e[6]||(e[6]=p=>{t.value.image=p}),"onUpdate:preview":e[7]||(e[7]=p=>{I.value=p,p&&(B.value=null)})},null,8,["initial-preview","disabled"])]),$?(f(),k(C,{key:0},{default:l(()=>[z(V($),1)]),_:2},1024)):x("",!0),e[18]||(e[18]=m("small",{class:"text-muted"},"Formatos permitidos: JPG, PNG, GIF. Tamaño máximo: 5MB",-1))]),_:1},8,["rules"]))]),_:1})]),_:1})),n(h,null,{default:l(()=>[n(s,{md:"12"},{default:l(()=>[m("div",ht,[n(ue,{variant:"outline-secondary",onClick:e[8]||(e[8]=$=>Q()),disabled:b.value||y.value},{default:l(()=>[n(Ve,{size:16,class:"me-1"}),e[20]||(e[20]=z(" Resetear Formulario ",-1))]),_:1},8,["disabled"]),n(ue,{variant:"primary",type:"submit",onClick:le,disabled:b.value||y.value},{default:l(()=>[b.value||y.value?(f(),k(Be,{key:0,small:"",class:"me-1"})):x("",!0),!b.value&&!y.value?(f(),k(Ae,{key:1,size:16,class:"me-1"})):x("",!0),z(" "+V(b.value||y.value?y.value?"Subiendo imagen...":q.value?"Actualizando...":"Creando...":q.value?"Actualizar Anuncio":"Crear Anuncio"),1)]),_:1},8,["disabled"])])]),_:1})]),_:1})],8,yt)]),_:1},512)]),_:1})]),_:1})])}}}),fe=tt(kt,[["__scopeId","data-v-b98e5519"]]),wt={class:"gamer-management-view"},Ct={key:0,class:"mt-4"},Vt={key:1,class:"mt-4"},Bt={class:"text-center my-2"},At={class:"d-flex align-items-center gap-3"},$t={class:"announcement-preview"},xt=["onClick"],It={class:"fw-bold text-white"},Dt=["title"],St={class:"d-flex gap-2 justify-content-center"},Ut={key:0,class:"text-center py-5 empty-state-container"},Ft={key:1,class:"d-flex justify-content-between align-items-center mt-4"},Tt={class:"pagination-info"},Yt=ie({__name:"Announceent",setup(T){const{confirm:u,toast:M}=he(),o=g("announcement"),E=g([]),S=g(!1),U=g(1),F=g(10),R=g(0),_=g(!1),d=g(null),Y=[{key:"announcement",label:"Crear",icon:"IconPlus"},{key:"active",label:"Activos",icon:"IconSpeakerphone"},{key:"inactive",label:"Inactivos",icon:"IconArchive"}],L=D(()=>o.value==="inactive"?ve.filter(i=>i.key!=="actions").map(i=>i.key==="deleted_at"?{...i,visible:!0}:i).filter(i=>i.visible!==!1):ve.filter(i=>i.key!=="deleted_at"));at(()=>{o.value!=="announcement"&&b()});const b=async()=>{if(o.value!=="announcement")try{S.value=!0,se();const i={page:U.value,per_page:F.value,status:o.value},c=await te.getAnnouncements(i);c.data?(E.value=c.data,R.value=c.total||0,U.value=c.current_page||1):E.value=[]}catch(i){console.error("Error al obtener los anuncios:",i),E.value=[]}finally{ee(),S.value=!1}},y=i=>i?new Date(i).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",t=i=>{o.value=i.key,i.key!=="announcement"&&(U.value=1,b())},B=i=>{U.value=typeof i=="string"?parseInt(i):i,b()},I=i=>{window.open(i,"_blank")},q=async i=>{d.value=i,await ke(),_.value=!0},W=()=>{_.value=!1,d.value=null},X=()=>{_.value=!1,d.value=null,b()},J=async i=>{if((await u("¿Eliminar anuncio?",`¿Estás seguro de que deseas eliminar el anuncio "${i.title}"?`,"Sí, eliminar","Cancelar")).isConfirmed)try{se(),await te.deleteAnnouncement({id:i.id}),M("Anuncio eliminado exitosamente","success"),b()}catch(N){console.error("Error al eliminar anuncio:",N),M("Error al eliminar el anuncio","error")}finally{ee()}};return(i,c)=>{const N=ye,H=G("IconVideo"),ae=G("IconEdit"),Z=be,Q=G("IconTrash"),le=ze,a=G("IconInbox"),e=Ne,r=_e,A=pe,w=Se,C=De;return f(),P("div",wt,[n(A,{"no-body":"",class:"gamer-card"},{default:l(()=>[n(r,{class:"gamer-card-body"},{default:l(()=>[n(Te,{tabs:Y,"selected-tab":o.value,"show-icons":!0,"show-numbers":!0,"onUpdate:selectedTab":c[0]||(c[0]=s=>o.value=s),onTabChange:t},null,8,["selected-tab"]),o.value==="announcement"?(f(),P("div",Ct,[n(fe)])):(f(),P("div",Vt,[n(le,{items:E.value,fields:L.value,busy:S.value,hover:"",responsive:"",striped:"",class:"mb-0"},{"table-busy":l(()=>[m("div",Bt,[n(N,{class:"align-middle"}),c[3]||(c[3]=m("strong",{class:"ms-2"},"Cargando...",-1))])]),"cell(title)":l(s=>[m("div",At,[m("div",$t,[s.item.is_video?(f(),P("div",{key:1,class:"video-preview",onClick:h=>I(s.item.url)},[n(H,{size:24,class:"text-white"})],8,xt)):(f(),k(Re,{key:0,src:s.item.url,alt:s.item.title,size:40},null,8,["src","alt"]))]),m("span",It,V(s.item.title),1)])]),"cell(description)":l(s=>[m("div",{class:"text-truncate",style:{"max-width":"200px"},title:s.item.description},V(s.item.description),9,Dt)]),"cell(start_date)":l(s=>[z(V(y(s.item.start_date)),1)]),"cell(end_date)":l(s=>[z(V(y(s.item.end_date)),1)]),"cell(created_at)":l(s=>[z(V(y(s.item.created_at)),1)]),"cell(deleted_at)":l(s=>[z(V(s.item.deleted_at?y(s.item.deleted_at):"N/A"),1)]),"cell(actions)":l(s=>[m("div",St,[oe((f(),k(Z,{variant:"outline-primary",size:"sm",class:"icon-btn",title:"Editar anuncio",onClick:h=>q(s.item)},{default:l(()=>[n(ae,{size:18})]),_:1},8,["onClick"])),[[C,void 0,void 0,{hover:!0}]]),oe((f(),k(Z,{variant:"outline-danger",size:"sm",class:"icon-btn",title:"Eliminar anuncio",onClick:h=>J(s.item)},{default:l(()=>[n(Q,{size:18})]),_:1},8,["onClick"])),[[C,void 0,void 0,{hover:!0}]])])]),_:1},8,["items","fields","busy"]),!S.value&&E.value.length===0?(f(),P("div",Ut,[n(a,{size:64,class:"empty-icon"}),c[4]||(c[4]=m("p",{class:"empty-text mt-3"},"No hay anuncios para mostrar",-1))])):x("",!0),R.value>F.value?(f(),P("div",Ft,[m("div",Tt," Mostrando "+V((U.value-1)*F.value+1)+" - "+V(Math.min(U.value*F.value,R.value))+" de "+V(R.value)+" anuncios ",1),n(e,{modelValue:U.value,"onUpdate:modelValue":[c[1]||(c[1]=s=>U.value=s),B],"total-rows":R.value,"per-page":F.value,align:"end",size:"sm",class:"mb-0"},null,8,["modelValue","total-rows","per-page"])])):x("",!0)]))]),_:1})]),_:1}),n(w,{modelValue:_.value,"onUpdate:modelValue":c[2]||(c[2]=s=>_.value=s),title:"Editar Anuncio",size:"lg","no-footer":"",scrollable:"","hide-footer":"",centered:"","body-class":"p-0","header-class":"border-bottom-0",onClose:W},{default:l(()=>[d.value?(f(),k(fe,{key:0,id:d.value.id,onRefresh:X},null,8,["id"])):x("",!0)]),_:1},8,["modelValue"])])}}});export{Yt as default};
